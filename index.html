<!DOCTYPE html>
<html>
    <style>
        .redBold {
            color:red;
            font-weight: bold;
        }
        .dark-mode {
            background-color: black;
            color: white;
        }
        .done {
        text-decoration: line-through;
        color: gray;
      }
    </style>
    <body>
    <h1>Hello!</h1>
    
    <p id="text">Change my color!</p>
    <button onclick="makered()">Make Red</button>
    <button onclick="reset()">Reset</button>
    <ul id="list">
        <li>Item 1</li>
    </ul>
    <button onclick="addItem()">Add New Item</button>
    <br><br>
    <img id="image" src="https://upload.wikimedia.org/wikipedia/commons/6/6e/Golde33443.jpg" width="200">
    <br><br>
    <button onclick="toggleImage()">Toggle Image</button>
    <br><br>
    <button onclick="changeBG()">Change Background Color</button>
    <br><br>
    <button onclick="toggleDarkMode()">Toggle Dark Mode</button>

    <h1>My To-Do List</h1>
    <input type="text" id="taskInput" placeholder="New task">
    <button id="addTask">Add</button>
    <ul id="taskList"></ul>
    <div id="output">Loading...</div>
    <h1>Posts</h1>
    <button id="loadBtn">Load Posts</button>
    <div id="postsContainer"></div>
    <br><br>
    <input id="postId" type="number" placeholder="Post ID" min="1"/>
    <button id="fetchBtn">Fetch Post</button>
    <br><br>

    <script src="script.js" defer></script>
    <script>
        function makered() {
            document.getElementById("text").classList.add("redBold");
        }

        function reset() {
            document.getElementById("text").classList.remove("redBold");
        };

        function addItem(){
            const li = document.createElement("li");
            li.textContent = "New Item";
            document.getElementById("list").appendChild(li);
        }
        function toggleImage() {
            const image = document.getElementById("image");
            if (image.src.includes("3.jpg")) {
                image.src = "https://images.pexels.com/photos/20787/pexels-photo.jpg?auto=compress&cs=tinysrgb&h=350";              
            } else {                
                image.src = "https://upload.wikimedia.org/wikipedia/commons/6/6e/Golde33443.jpg";  
            } 
        }
        const color =["lightblue", "lightgreen", "pink", "yellow", "lavender"];
        let index=0;
        function changeBG() {
            document.body.style.backgroundColor = color[index];
            index = (index + 1) % color.length;
        }
        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
        }

        fetch('https://jsonplaceholder.typicode.com/posts/1')
        .then(response => response.json())
        .then(data => {
            document.getElementById('output').innerHTML =
             `<h2>${data.title}</h2><p>${data.body}</p><hr>`;
        }).catch(error => document.getElementById('output').textContent
        = `Error fetching data: ${error}`);

        document.getElementById('loadBtn').addEventListener('click', () => {
            const container = document.getElementById('postsContainer');
            container.innerHTML = 'Loading posts...'; 

            fetch('https://jsonplaceholder.typicode.com/posts')
                .then(response => response.json())
                .then(posts => {
                    container.innerHTML = ''; // Clear loading text
                    posts.slice(0, 5).forEach(post => {
                        const item = document.createElement('div');
                        item.innerHTML = `<h3>${post.title}</h3><p>${post.body}</p><hr>`;                   
                        container.appendChild(item);
                    });
                }).catch(error => {container.textContent
                = `Error fetching data: ${error}`;
            });
            });

        
        document.getElementById('fetchBtn').addEventListener('click', () => {
            const id = document.getElementById('postId').value.trim();
            fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)
                .then(res => {
                    if (!res.ok) throw new Error('Post not found');
                    return res.json();})
                .then(data => {
                    document.getElementById('output').innerHTML = 
                    `<h2>${data.title}</h2><p>${data.body}</p><hr>`;
                }).catch(error => {
                output.textContent = `Error: ${error.message}`;
            });
        });
    </script>
    
</body>
</html>